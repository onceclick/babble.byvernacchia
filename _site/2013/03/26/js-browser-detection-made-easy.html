<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title>
		
			JS Browser Detection Made Easy | Babble by Vernacchia
		
	</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="robots" content="index, follow" />
<meta name="revisit-after" content="14 days" />
<meta name="content-language" content="english" />
<meta name="robots" content="INDEX,FOLLOW" />

  <meta name="description" content="I recently had to implement browser detection into one of the web apps I work on at my real job, you know the one that I get paid to do. For those of you who’ve done this before, you know how big o...">


<meta name="keywords" content="technology, javascript, blogging, web development, programming, babble" />

	<meta property="og:type" content="website" />
<meta property="og:locale" content="en_US" />

	<meta property="og:title" content="JS Browser Detection Made Easy" />


	<meta property="og:url" content="http://babble.byvernacchia.com" />






	<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@vernacchia" />
<meta name="twitter:creator" content="@vernacchia" />

  <meta name="twitter:title" content="JS Browser Detection Made Easy" />


  <meta name="twitter:url" content="http://babble.byvernacchia.com/2013/03/26/js-browser-detection-made-easy.html" />


  <meta name="twitter:description" content="I recently had to implement browser detection into one of the web apps I work on at my real job, you know the one that I get paid to do. For those of you who’ve done this before, you know how big o..." />


	<!-- bootstrap styles -->
	<link rel="stylesheet" href="/css/bootstrap.css">

	<!-- Custom CSS -->
	<link rel="stylesheet" href="/css/styles.css">
</head>
<body>
	<div class="site-search-container">
		<form action="/search/" method="get" class="search-form">
			<input class="custom-input" id="query" type="text" name="q" placeholder="Search...">
		</form>
		<div class="search-toggle" id="js-search-toggle">Search</div>
	</div> 

	<div class="container">
		<div class="row-fluid">
			<div class="span12">&nbsp;</div>
		</div>
		<div class="row-fluid">
			<div class="span9">
				<div class="span12 post">
					<p><a href="/">go back home...</a></p>
					<h1 class="site-title">JS Browser Detection Made Easy</h1>
					<p class="post-meta">March 26, 2013 at 03:53 PM</p>
					<p><p>I recently had to implement browser detection into one of the web apps I work on at my real job, you know the one that I get paid to do. For those of you who’ve done this before, you know how big of a hassle it is (even worse when you have to support IE7 or lower).</p>

<p>There are two general ways to do this, server-side or client-side. In general, since people can spoof user-agent strings, it really doesn’t matter where you put the detection (could be some specific use cases where one applies). In the end, people are going to see what they want to see when it comes to this stuff.</p>

<p>I choose to do it client-side and was all ready to make my own “function” to do this, but then I stumbled over <a href="https://github.com/bestiejs/platform.js" title="platform.js">platform.js</a>. It’s a lightweight (11KB minified, and ~5KB gzipped) JS library solely dedicated to browser detection, and let me tell you, it is really good at it. It can be used almost everywhere, I suggest checking out their <a href="https://github.com/bestiejs/platform.js#installation-and-usage">github README</a> for more info.</p>

<p>Platform.js is made by the people who make <a href="https://github.com/bestiejs/lodash" title="lodash">lodash</a>, the <a href="https://github.com/documentcloud/underscore" title="Underscore.js">underscore.js</a> replacement (kinda, sort of). Needless to say, they know what they’re doing.</p>

<p>It’s super simple to use, automatically detects your browser, and can be used to parse user-agent strings. Just take a look:</p>

<div class="highlight"><pre><code class="javascript"><span class="nx">platform</span><span class="p">.</span><span class="nx">parse</span><span class="p">();</span> <span class="cm">/* or */</span> <span class="nx">platform</span><span class="p">;</span>
<span class="c1">// you&#39;ll an object with some of the following</span>
<span class="p">{</span>
    <span class="nx">description</span><span class="o">:</span> <span class="s2">&quot;Firefox 19.0 on Mac OS X 10.8&quot;</span>
    <span class="p">,</span> <span class="nx">layout</span><span class="o">:</span> <span class="s2">&quot;Gecko&quot;</span>
    <span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;Firefox&quot;</span>
    <span class="p">,</span> <span class="nx">os</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">family</span><span class="o">:</span> <span class="s2">&quot;Mac OS X&quot;</span>
        <span class="p">,</span> <span class="nx">version</span><span class="o">:</span> <span class="s2">&quot;10.8&quot;</span>
    <span class="p">}</span>
    <span class="p">,</span> <span class="nx">ua</span><span class="o">:</span> <span class="s2">&quot;Mozilla/5.0 (Macintosh;...o/20100101 Firefox/19.0&quot;</span>
    <span class="c1">// etc...</span>
<span class="p">}</span>
</code></pre></div>


<p><strong>Or you can parse user-agent strings:</strong></p>

<div class="highlight"><pre><code class="javascript">   <span class="kd">var</span> <span class="nx">browser</span> <span class="o">=</span> <span class="nx">platform</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">&#39;Mozilla/5.0 (Windows NT 6.1; WOW64) AppleWebKit/537.17 (KHTML, like Gecko) Chrome/24.0.1312.60 Safari/537.17&#39;</span><span class="p">);</span>
    <span class="nx">browser</span><span class="p">.</span><span class="nx">name</span> <span class="c1">// &quot;Chrome&quot;</span>
    <span class="nx">browser</span><span class="p">.</span><span class="nx">version</span> <span class="c1">// &quot;24.0.1312.60&quot;</span>
    <span class="c1">// etc...</span>
</code></pre></div>


<h3>What about IE Compatibility Mode?</h3>

<p>It just so happens that I had to do this too. There are <a href="http://bit.ly/XCSt6O">ways to do this without a JS library</a>, but using platform.js made my life a little easier.</p>

<p>Getting the necessary info for this is as easy as using <code>platform.description</code> or <code>platform.toString()</code>. You’ll get something like this for the description:</p>

<div class="highlight"><pre><code class="javascript"><span class="c1">// little different from what they say</span>
<span class="c1">// on https://github.com/bestiejs/platform.js</span>
<span class="c1">// IE 10.0 32-bit (IE 5 mode) on Windows 8 64-bit</span>
<span class="c1">// IE 10.0 32-bit (IE 8 mode) on Windows 8 64-bit</span>
<span class="c1">// IE 10.0 32-bit (IE 8 mode) on Windows 8 64-bit</span>
<span class="c1">// IE 10.0 32-bit (IE 7 mode) on Windows 8 64-bit</span>
<span class="c1">// IE 9.0 (IE 7 mode) on Windows Server 2008 / Vista</span>
<span class="c1">// IE 9.0 (IE 8 mode) on Windows Server 2008 / Vista</span>
<span class="c1">// IE 9.0 (IE 5 mode) on Windows Server 2008 / Vista</span>
<span class="c1">// etc...</span>
</code></pre></div>


<p>It’s as simple as searching the string with a regex. Mine looks something like this:</p>

<div class="highlight"><pre><code class="javascript"><span class="c1">// Only testing for IE 7 compatibility mode</span>
<span class="nx">platform</span><span class="p">.</span><span class="nx">description</span><span class="p">.</span><span class="nx">search</span><span class="p">(</span><span class="sr">/\(IE\s7\smode\)/</span><span class="p">);</span>

<span class="c1">// test for compatibility mode in general</span>
<span class="c1">// I&#39;m not a regex guru, so let me know if something is better</span>
<span class="nx">platform</span><span class="p">.</span><span class="nx">description</span><span class="p">.</span><span class="nx">search</span><span class="p">(</span><span class="sr">/\(IE\s(0{0,2}[1-9]|0?[1-9][0-9]|[1-9][0-9][0-9])\smode\)/</span><span class="p">);</span>

<span class="c1">// Big picture may look something like this</span>
<span class="c1">// or insert your own search regex</span>
<span class="k">if</span><span class="p">(</span> <span class="nx">platform</span><span class="p">.</span><span class="nx">description</span><span class="p">.</span><span class="nx">search</span><span class="p">(</span><span class="sr">/\(IE\s7\smode\)/</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">0</span> <span class="p">)</span> <span class="p">{</span>
    <span class="c1">// we&#39;re in compatibility mode for IE 7</span>
<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// we&#39;re not in compatibility mode for IE 7</span>
<span class="p">}</span>
</code></pre></div>


<p>So it’s pretty much as simple as that. Well not too simple, but overall this saved me a bunch of time.</p>

<p>As always, let me know what I can do to improve my writing and/or explanation of topics. I tried to keep it concise with ~550 characters.</p>
</p>
					<div class="tag-container">
						<strong>Tags:&nbsp;</strong>
						
							<a href="/tags/javascript" class="post-tag" title="View posts tagged with &quot;javascript&quot;">
								javascript<span class="comma">,&nbsp;</span>
							</a>
							
							
						
							<a href="/tags/web-development" class="post-tag" title="View posts tagged with &quot;web-development&quot;">
								web-development<span class="comma">,&nbsp;</span>
							</a>
							
							
						
							<a href="/tags/bestiejs" class="post-tag" title="View posts tagged with &quot;bestiejs&quot;">
								bestiejs<span class="comma">,&nbsp;</span>
							</a>
							
							
						
							<a href="/tags/browser-detection" class="post-tag" title="View posts tagged with &quot;browser-detection&quot;">
								browser-detection
							</a>
							
						
					</div>	
				</div>
			</div>
			<div class="span3 pad-bottom">
				<div class="span12"><h1>&nbsp;</h1></div>
				<div class="span12" style="margin-left:0 !important;">
					<div class="bio-image"></div>
<div class="bio-desc txt-center">
	<p>I am a life-long learner, adventure seeker, and front-end developer for <a href="https://twitter.com/ExactTarget" target="_blank">@ExactTarget</a></p>
</div>
<ul class="social clearfix">
	<li class="linkedin"><a href="http://www.linkedin.com/in/alexvernacchia/" target="_blank"></a></li>
	<li class="twitter"><a href="https://twitter.com/vernacchia" target="_blank"></a></li>
	<li class="github"><a href="https://github.com/vernak2539" target="_blank"></a></li>
	<li class="about-me"><a href="http://about.me/vernacchia" target="_blank"></a></li>
</ul>
<div class="repo-btn-container">
	<a href="https://github.com/vernak2539/babble.byvernacchia" class="btn btn-info btn-large" target="_blank">This Site's Repo</a>
</div>
				</div>
			</div>
		</div>
		<div class="row-fluid">
			<div class="span12">&nbsp;</div>
		</div>
		<div id="disqus_thread" class="row-fluid"></div>
	</div>
	<script type="text/javascript">
		/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
		var disqus_shortname = ''; // required: replace example with your forum shortname

		/* * * DON'T EDIT BELOW THIS LINE * * */
		/*(function() {
				var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
				dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
				(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
		})();*/
	</script>

	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-XXXX-X', 'yourSiteHere.com');
		ga('send', 'pageview');
	</script>
	<script type="text/javascript" src="/js/min/jquery.js"></script>
	<script type="text/javascript" src="//netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="/js/min/all.js" async></script>
</body>
</html>
 