<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<title>
		
			PHP's autoload function | Babble by Vernacchia
		
	</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="robots" content="index, follow" />
<meta name="revisit-after" content="14 days" />
<meta name="content-language" content="english" />
<meta name="robots" content="INDEX,FOLLOW" />

  <meta name="description" content="I am currently working on a website that utilizes Object-Oriented Programming in PHP. I found it was a hassle every time I wanted to use a custom class which I had created prior. I would always hav...">


<meta name="keywords" content="technology, javascript, blogging, web development, programming, babble" />

	<meta property="og:type" content="website" />
<meta property="og:locale" content="en_US" />

	<meta property="og:title" content="PHP's autoload function" />


	<meta property="og:url" content="http://babble.byvernacchia.com" />






	<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@vernacchia" />
<meta name="twitter:creator" content="@vernacchia" />

  <meta name="twitter:title" content="PHP's autoload function" />


  <meta name="twitter:url" content="http://babble.byvernacchia.com/2010/12/23/phps-autoload-function.html" />


  <meta name="twitter:description" content="I am currently working on a website that utilizes Object-Oriented Programming in PHP. I found it was a hassle every time I wanted to use a custom class which I had created prior. I would always hav..." />


	<!-- bootstrap styles -->
	<link rel="stylesheet" href="/css/bootstrap.css">

	<!-- Custom CSS -->
	<link rel="stylesheet" href="/css/styles.css">
</head>
<body>
	<div class="site-search-container">
		<form action="/search/" method="get" class="search-form">
			<input class="custom-input" id="query" type="text" name="q" placeholder="Search...">
		</form>
		<div class="search-toggle" id="js-search-toggle">Search</div>
	</div> 

	<div class="container">
		<div class="row-fluid">
			<div class="span12">&nbsp;</div>
		</div>
		<div class="row-fluid">
			<div class="span9">
				<div class="span12 post">
					<p><a href="/">go back home...</a></p>
					<h1 class="site-title">PHP's autoload function</h1>
					<p class="post-meta">December 23, 2010 at 09:27 AM</p>
					<p><p>I am currently working on a website that utilizes Object-Oriented Programming in PHP. I found it was a hassle every time I wanted to use a custom class which I had created prior. I would always have to include or require the file before making an object from the class. Sometimes, this can get a little frustrating when you are in a hurry and you see that your object is not working. You check the basics including did I initialize it correctly? Did I set all the required variables? etc. Lo and behold you just forgot to include the file that contains the class you are working with. This is where PHP’s autoload function comes in handy.</p>

<p>The project I am working on utilizes a bootstrap in order to load pages. For those of you that don’t know what a bootstrap is, here is the short version. No matter what URL you type on the site, it will redirect you to a designated page (mine is set up so that if the file is real/is a file, it will take you to that file and not redirect). Once on the designated page, a “bootstrap” will take over and try to load the page that you requested. If it finds the page, which I have, hidden, outside the www/ on my webspace, it will include it, and if it fails to find it, a 404 is thrown and a custom error message is displayed.</p>

<p>Since every page goes through this bootstrap it was easy for me to integrate the autoload function at the beginning. Another way to do it would involve putting the code in the header that you include on every page, although I have not tested this method.</p>

<p>So the autoload code is as follows (just the basics):</p>

<div class="highlight"><pre><code class="php"><span class="cp">&lt;?php</span>
<span class="k">function</span> <span class="nf">__autoload</span><span class="p">(</span><span class="nv">$class</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// loading classes go here</span>
<span class="p">}</span>
<span class="cp">?&gt;</span><span class="x"></span>
</code></pre></div>


<p>This is just the basic function. If you want to see more examples look at <a href="http://php.net/manual/en/language.oop5.autoload.php">php.net’s page on autoloading</a>. The “$class” variable is the class that is trying to be loaded when initializing and object. Let’s take a look at the code I use on my site to load the classes I use.</p>

<div class="highlight"><pre><code class="php"><span class="cp">&lt;?php</span>
<span class="k">function</span> <span class="nf">__autoload</span><span class="p">(</span><span class="nv">$class</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$class</span><span class="p">{</span><span class="mi">0</span><span class="p">}</span> <span class="o">=</span> <span class="nx">strtolower</span><span class="p">(</span><span class="nv">$class</span><span class="p">{</span><span class="mi">0</span><span class="p">});</span>
    <span class="k">if</span><span class="p">(</span><span class="nb">is_file</span><span class="p">(</span><span class="nx">path</span><span class="o">/</span><span class="nx">to</span><span class="o">/</span><span class="nb">file</span><span class="o">/.</span><span class="s2">&quot;class.&quot;</span><span class="o">.</span><span class="nv">$class</span><span class="o">.</span><span class="s2">&quot;.php&quot;</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">include</span><span class="p">(</span><span class="nx">path</span><span class="o">/</span><span class="nx">to</span><span class="o">/</span><span class="nb">file</span><span class="o">/.</span><span class="s2">&quot;class.&quot;</span><span class="o">.</span><span class="nv">$class</span><span class="o">.</span><span class="s2">&quot;.php&quot;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="cp">?&gt;</span><span class="x"></span>
</code></pre></div>


<p>First, I named the files that have my classes in them something like “class.test.php.” Inside this file there would be a class named something like “Test.” In my code, I change the first character to the lowercase version (this can be accomplished through <a href="http://www.php.net/manual/en/function.lcfirst.php">lcfirst()</a> if using PHP 5.3 ), test if the class I’m trying to load is a file, and if it is, I include the file to needed to call the class. So if I made an object like the following</p>

<div class="highlight"><pre><code class="php"><span class="cp">&lt;?php</span>
<span class="nv">$obj</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Test</span><span class="p">();</span>
<span class="cp">?&gt;</span><span class="x"></span>
</code></pre></div>


<p>My autoload function would include a file named “class.test.php” if it existed on the server.</p>

<p>On php.net, they have examples that throw exceptions, but I feel that this way is a little bit easier. Of course with my method you can always factor in error messaging and anything else you need to make it yours.</p>

<p>Hopefully this helped. Before trying this I would have to load all the classes individually, which took a lot of time and confused me sometimes when it didn’t work.</p>
</p>
					<div class="tag-container">
						<strong>Tags:&nbsp;</strong>
						
							<a href="/tags/bootstrap" class="post-tag" title="View posts tagged with &quot;bootstrap&quot;">
								bootstrap<span class="comma">,&nbsp;</span>
							</a>
							
							
						
							<a href="/tags/oop" class="post-tag" title="View posts tagged with &quot;oop&quot;">
								oop<span class="comma">,&nbsp;</span>
							</a>
							
							
						
							<a href="/tags/php" class="post-tag" title="View posts tagged with &quot;php&quot;">
								php<span class="comma">,&nbsp;</span>
							</a>
							
							
						
							<a href="/tags/programming" class="post-tag" title="View posts tagged with &quot;programming&quot;">
								programming
							</a>
							
						
					</div>	
				</div>
			</div>
			<div class="span3 pad-bottom">
				<div class="span12"><h1>&nbsp;</h1></div>
				<div class="span12" style="margin-left:0 !important;">
					<div class="bio-image"></div>
<div class="bio-desc txt-center">
	<p>I am a life-long learner, adventure seeker, and front-end developer for <a href="https://twitter.com/ExactTarget" target="_blank">@ExactTarget</a></p>
</div>
<ul class="social clearfix">
	<li class="linkedin"><a href="http://www.linkedin.com/in/alexvernacchia/" target="_blank"></a></li>
	<li class="twitter"><a href="https://twitter.com/vernacchia" target="_blank"></a></li>
	<li class="github"><a href="https://github.com/vernak2539" target="_blank"></a></li>
	<li class="about-me"><a href="http://about.me/vernacchia" target="_blank"></a></li>
</ul>
<div class="repo-btn-container">
	<a href="https://github.com/vernak2539/babble.byvernacchia" class="btn btn-info btn-large" target="_blank">This Site's Repo</a>
</div>
				</div>
			</div>
		</div>
		<div class="row-fluid">
			<div class="span12">&nbsp;</div>
		</div>
		<div id="disqus_thread" class="row-fluid"></div>
	</div>
	<script type="text/javascript">
		/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
		var disqus_shortname = ''; // required: replace example with your forum shortname

		/* * * DON'T EDIT BELOW THIS LINE * * */
		/*(function() {
				var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
				dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
				(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
		})();*/
	</script>

	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-XXXX-X', 'yourSiteHere.com');
		ga('send', 'pageview');
	</script>
	<script type="text/javascript" src="/js/min/jquery.js"></script>
	<script type="text/javascript" src="//netdna.bootstrapcdn.com/bootstrap/2.3.2/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="/js/min/all.js" async></script>
</body>
</html>
 